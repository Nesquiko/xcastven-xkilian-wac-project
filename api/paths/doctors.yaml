get:
  tags:
    - Doctors
  summary: List all doctors
  description: Retrieves a paginated list of all registered doctors.
  operationId: listDoctors
  parameters:
    - $ref: "../components/parameters/query/page.yaml"
    - $ref: "../components/parameters/query/pageSize.yaml"
  responses:
    "200":
      $ref: "../components/responses/DoctorList.yaml"

    "400":
      description: Bad Request - Invalid pagination parameters.
      content:
        application/problem+json:
          schema:
            $ref: "../components/schemas/ErrorDetail.yaml"
          examples:
            invalidPageSize:
              summary: Example invalid page size (400)
              value:
                title: "Validation Error"
                status: 400
                code: "validation.invalid-parameter"
                detail: "pageSize must be an integer between 1 and 100."

    "500":
      $ref: "../components/responses/InternalServerErrorResponse.yaml"

post:
  tags:
    - Doctors
  summary: Register a new doctor
  description: Creates a new doctor record in the system.
  operationId: registerDoctor
  requestBody:
    $ref: "../components/requestBodies/DoctorRegistrationRequest.yaml"
  responses:
    "201":
      $ref: "../components/responses/DoctorCreated.yaml"

    "400":
      description: Bad Request - Invalid input data (e.g., missing fields, invalid email).
      content:
        application/problem+json:
          schema:
            $ref: "../components/schemas/ErrorDetail.yaml"
          examples:
            validationError:
              summary: Example validation error (400)
              value:
                title: "Validation Error"
                status: 400
                code: "validation.missing-field"
                detail: 'Required field "specialization" is missing.'

    "409":
      description: Conflict - A doctor with the provided email already exists.
      content:
        application/problem+json:
          schema:
            $ref: "../components/schemas/ErrorDetail.yaml"
          examples:
            duplicateEmail:
              summary: Example duplicate email error (409)
              value:
                title: "Conflict"
                status: 409
                code: "doctor.email-exists"
                detail: "A doctor with email dr.house@example.com already exists."

    "500":
      $ref: "../components/responses/InternalServerErrorResponse.yaml"
